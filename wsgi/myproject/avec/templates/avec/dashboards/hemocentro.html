{% extends "avec/layout_client.html" %}

{% load poll_extras %}

{% load staticfiles %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/avecVinicius-style.css' %}">
<link rel="stylesheet" href="{% static 'css/keen-dashboards.css' %}" />
<link rel="stylesheet" type="text/css" media="all" href="{% static 'css/autocomplete.css' %}">
<script src="//cdnjs.cloudflare.com/ajax/libs/geojson2svg/1.0.2/geojson2svg.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js" />
<!-- amCharts includes -->
<script src="https://www.amcharts.com/lib/3/ammap.js"></script>

<!-- amCharts javascript sources -->
<script type="text/javascript" src="{% static 'js/amcharts/amcharts.js' %}"></script>
<script type="text/javascript" src="{% static 'js/amcharts/serial.js' %}"></script>
<script type="text/javascript" src="{% static 'js/amcharts/pie.js' %}"></script>

<!-- amCharts plugins -->
<script type="text/javascript" src="{% static 'js/amcharts/plugins/export/export.min.js' %}"></script>
<link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css">

<script type="text/javascript" src="{% static 'js/amcharts/plugins/export/fabric.js' %}"></script>
<script type="text/javascript" src="{% static 'js/amcharts/plugins/export/FileSaver.js' %}"></script>
<script type="text/javascript" src="{% static 'js/amcharts/plugins/export/jszip.js' %}"></script>
<script type="text/javascript" src="{% static 'js/amcharts/plugins/export/pdfmake.js' %}"></script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" />


<style>

.number-display {
	font-size: 64px;
	text-align: center;
	padding-top: 63px;
	padding-bottom: 63px;
	line-height: normal;
}

.divider {
  height: 1px;
  width:100%;
  display:block; /* for use on default inline elements like span */
  margin: 9px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}

.chartdiv {
  width: 100%;
  max-width: 100%;
  height: 450px;

}

.charmultitdiv {

  max-width: 100%;
  height: 375px;

}

.charmultitdiv2 {

  max-width: 100%;
  height: 250px;

}

select {
  font-size: 15px;
  padding: 5px 10px;
  margin-bottom: 15px;
}

figure {
	width: 80px;
}

ul {
    padding-left: 20px;
	padding-top: 10px;
}

ul li { display: inline;
	padding: 0px 0px;
    display: inline-block;

}

.text-right, .counter, .magnitude, .number {
    olor: #61788e;!important

}

#mapa{

    max-width:150px;
    max-height:80px;
    width: auto;
    height: auto;

}

#autocomplete2{
    height: 63px;!important
}

.banner-search__input-search {
	box-shadow: none;!important
}

.nescon__title {
	font-family: 'Roboto', sans-serif;
	font-size: 24px;
	letter-spacing: -0.8px;
	text-align: left;
	color: rgb(97, 120, 142);
	margin-bottom: 0px;!important
}

.nav-pills>li.active>a, .nav-pills>li.active>a:focus, .nav-pills>li.active>a:hover{
    background: linear-gradient(#ffffff 90%, #3dc1d0 10%);
	font-family: Lato;
	font-size: 14px;
	font-weight: 900;
	letter-spacing: -0.5px;
	text-align: left;
    float: none;
    clear: left;
	color: #61788e; !important;
	background-color: blue;!important
}

.nav>li>a:focus, .nav>li>a:hover {
    background-color: #ffffff;!important
}

.nav>li, .nav>li>a {
  color: #a7b4c3; !important;

}

.nav-stacked{
    padding-left: 0px;
}


.leaflet-map-pane {
    z-index: 2 !important;
}

.leaflet-google-layer {
    z-index: 1 !important;
}

.menu{
border-bottom: solid 1px #ffffff;
}

.banner-search__input-search {
    background-color: white;!important
}

.fa{
    float: right;
	padding-right: 15px;
}

#compare{
	color: #61788e;
	font-weight : bold;!important;

}

#select{
	color: #61788e;
}

.amChartsCompareList {
	padding-top : 10px;
}

.amcharts-data-set-select{
	margin-top: 10px;
}

.amcharts-bg, .amcharts-plot-area {
  display: none;
}

.lateral_div{
	border-radius: 2px 0px 0px 0px;
    box-shadow: 1px 0px 0px 0px rgba(170,179,179,0.5);
}

.fa-2 {
    font-size: 1.5em;
	color: #DFE4E9;
}

.fa-2:hover{
    font-size: 1.5em;
	color: #A7B4C3;
}

</style>


<style>

.tab-slider {
    padding:0 40px;
}
.tab-slider .btn-icon {
    position: absolute;
    top: 5px;
}
#goPrev {
    left:0;
}
#goNext {
    right:0;
}
.wrap {
    overflow: hidden;
    position: relative;
    white-space: nowrap;
    width: 100%;
    font-size: 0;
}

.wrap>.nav-pills {
    display: inline-block;
    padding: 0;
    margin: 0;
    position: relative;
    top: 0;
    left: 0;
}

.wrap>.nav-pills>li {
    background: #ffffff;
    display: inline-block;
    position: relative;
    white-space: normal;
    float: none;
    font-size: 14px;
}

.amcharts-compare-item-div {
    box-sizing: content-box;!important;
}

.sub-avec{
  	color: #3e4c5b;!important;
    background-color: #f5f5f5;!important;
    border-color: rgba(0, 0, 0, 0.1);!important;

    text-transform: uppercase;!important;
    border-color: rgba(0, 0, 0, 0.05);!important;

    padding: 10px 15px;!important;
    border-bottom: 1px solid transparent;!important;
    border-top-right-radius: 1px;!important;
    border-top-left-radius: 1px;!important;
}

.avec-a{
	color: #61788e;!important
}

.avec-a:hover{
	color: #61788e;!important
}


ul-avec li-avec {
    display: inline;
    padding: 0px 0px;!important;
    display: inline-block;
}

</style>


<!--<script src="https://www.amcharts.com/lib/3/ammap_amcharts_extension.js"></script>
<script src="https://www.amcharts.com/lib/3/maps/js/worldLow.js"></script>
-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>


<!-- amCharts plugins -->

<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

    <script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/jquery-1.9.1.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/amcharts/amstock.js' %}"></script>

	<script type="text/javascript" src="{% static 'data/paineis/click_hover.js' %}"></script>
<link rel="stylesheet" href="{% static 'data/paineis/tree_frog_vertical.css' %}" />



<!-- TOPIC HEADER
================================================== -->
<div class="topic">
	<div class="container">

			{% for client in view_client%}
			{% if client.search_field %}
			<div class="container-fluid" style = " background-color:#fff; padding-top:70px;">
				<div class="container" id="mycontainer" >

				<form action="" class="banner-search__form">

				<input list="browsers" type="text" id="autocomplete2" class="banner-search__input-search"  placeholder="Procure aqui uma cidade">

				</form>

				</div>
			</div>
			{% endif %}
			{% endfor %}

		<div class="row" style="padding-bottom: 50px; padding-top: 50px;">

			<div class="col-sm-6" >
				{% for client in view_client%}
					<h3 class="avec-h3">  {{client.title}}</h3></i>
				{% endfor %}
			</div>
			<div class="col-sm-6">

			</div>
		</div> <!-- / .row -->

		<div class="row">
		<!--<div  class="col-sm-1" id="back" style="display: none; width:5%;padding-right: 15px;padding-left: 15px;">
			<ul class="nav nav-pills" >
				<i id="goPrev" class="fa fa-chevron-circle-left fa-2" aria-hidden="true"></i>
			</ul>
		</div>-->
		<div class="col-sm-10" style="width:90%;padding-left: 15px;padding-right: 0px;">
		<div class="wrap" >

				<ul class="nav nav-pills ul-avec" id="menus">
				{% for theme in view_themes %}
				{% if  forloop.counter  == 1 %}
						<li class="active li-avec" style="text-transform: uppercase;"><a data-toggle="tab" href="#home">{{theme.title}}</a></li>
				{% else %}
						<li class="li-avec" style="text-transform: uppercase;"><a data-toggle="tab" href="#menu{{forloop.counter}}">{{theme.title}}</a></li>
				{% endif %}
				{% endfor %}

				</ul>

		</div>
		</div>
		<!--<div  class="col-sm-1" style="width:5%;padding-left: 15px;padding-right: 15px; float: right;">
			<ul class="nav nav-pills" >

										<i id="goNext" class="fa fa-chevron-circle-right fa-2" aria-hidden="true"></i>

			</ul>
		</div>-->
		</div>
	</div> <!-- / .container -->
</div> <!-- / .topic -->


<!-- MAIN CONTENT
================================================== -->
<div class="container" >
  <div class="tab-content">

  		  {% for theme in view_themes %}
				{% with forloop.counter as count_theme %}
					{% if  forloop.counter  == 1 %}
					<div id="home" class="tab-pane fade in active">

						<div class="col-sm-3" style="padding-left:0px;">

							<div class="panel-group" id="accordion">
								{% for subj in theme.view_subject_set.all|dictsort:"published_date" %}
								{% with forloop.counter as count_subj %}
									{% if  count_subj  == 1 %}
			              <div class="panel panel-default">
			                <div class="panel-heading">
			                  <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
			                    {{subj.title}}
			                  </a>
			                </div>
			                <div id="collapseOne" class="panel-collapse collapse in">
												{% for subj_det in subj.view_subject_detail_set.all|dictsortreversed:"published_date" %}
				                  <div class="panel-body">
				                    <a class="avec-a" href="javascript:showChart('chartdiv{{subj_det.title}}', 'chartdiv{{theme.title}}');" style="font-weight:normal;">{{subj_det.title}}</a>
				                  </div>
												{% endfor %}
			                </div>
			              </div>
									 {% else %}
										 <div class="panel panel-default">
											 <div class="panel-heading">
												 <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" class="collapsed">
													 {{subj.title}}
												 </a>
											 </div>
											 <div id="collapseTwo" class="panel-collapse collapse">
												 {% for subj_det in subj.view_subject_detail_set.all|dictsortreversed:"published_date" %}
 				                  <div class="panel-body">
 				                    <a class="avec-a" href="javascript:showChart('chartdiv{{subj_det.title}}', 'chartdiv{{theme.title}}');" style="font-weight:normal;">{{subj_det.title}}</a>
 				                  </div>
 												{% endfor %}
											 </div>
										 </div>
									 {% endif %}
									{% endwith %}
								{% endfor %}

	            </div>
						</div>
						<div class="col-sm-9">
							<div class="banner-section" id="img-container">    </div>
									{% for subj in theme.view_subject_set.all %}
											{% for subj_det in subj.view_subject_detail_set.all %}
													{% for cliente in view_client %}
														{% if cliente.no_script == False %}
															<div id="chartdiv{{subj_det.title}}" class="chartdiv" style="display: none;"></div>
														{% endif %}
														{% if cliente.no_script == True %}
																{% for tabs in mytabs %}
																	<div id="chartdiv{{subj_det.title}}" class="chartdiv" style="display: none;">
																			<p>{% autoescape on %}{{ tabs.html|safe }}{% endautoescape %} </p>
																	</div>
																{% endfor %}
														{% endif %}
													{% endfor %}

											{% endfor %}
									{% endfor %}

									<div id="chartdiv{{theme.title}}" class="chartdiv" style="display: block;">
										<img class="img-responsive center-block avec-center-block" src="{% static 'img/NoContent_Chart.svg' %}" alt="..." style="padding-right: 0px!important;">
									</div>
						</div>
					</div>
						{% else %}
						<div id="menu{{count_theme}}" class="tab-pane fade">

							<div class="col-sm-3" style="padding-left:0px;">

								<div class="panel-group" id="acc_menu{{count_theme}}">
									{% for subj in theme.view_subject_set.all|dictsort:"published_date" %}
									{% with forloop.counter as count_subj %}
										{% if  count_subj  == 1 %}
					              <div class="panel panel-default">
					                <div class="panel-heading">
					                  <a data-toggle="collapse" data-parent="#acc_menu{{count_theme}}" href="#collapseOne2">
					                     {{subj.title}}
					                  </a>
					                </div>
					                <div id="collapseOne2" class="panel-collapse collapse">
														{% for subj_det in subj.view_subject_detail_set.all|dictsortreversed:"published_date" %}
						                  <div class="panel-body">
						                    <a class="avec-a" href="javascript:showChart('chartdiv{{subj_det.title}}', 'chartdiv{{theme.title}}');" style="font-weight:normal;">{{subj_det.title}}</a>
						                  </div>
														{% endfor %}
					                </div>
					              </div>
										 {% else %}
					              <div class="panel panel-default">
					                <div class="panel-heading">
					                  <a data-toggle="collapse" data-parent="#acc_menu{{count_theme}}" href="#collapseTwo2" class="collapsed">
					                     {{subj.title}}
					                  </a>
					                </div>
					                <div id="collapseTwo2" class="panel-collapse collapse">
														{% for subj_det in subj.view_subject_detail_set.all|dictsortreversed:"published_date" %}
						                  <div class="panel-body">
						                    <a class="avec-a" href="javascript:showChart('chartdiv{{subj_det.title}}', 'chartdiv{{theme.title}}');" style="font-weight:normal;">{{subj_det.title}}</a>
						                  </div>
														{% endfor %}
					                </div>
					              </div>
											{% endif %}
	 									{% endwith %}
	 								{% endfor %}
					       </div>



							</div>
							<div class="col-sm-9">
								<div class="banner-section" id="img-container2">    </div>
										{% for subj in theme.view_subject_set.all %}
												{% for subj_det in subj.view_subject_detail_set.all %}
														{% for cliente in view_client %}
															{% if cliente.no_script == False %}
																<div id="chartdiv{{subj_det.title}}" class="chartdiv" style="display: none;"></div>
															{% endif %}
															{% if cliente.no_script == True %}
																	{% for tabs in mytabs %}
																		<div id="chartdiv{{subj_det.title}}" class="chartdiv" style="display: none;">
																				<p>{% autoescape on %}{{ tabs.html|safe }}{% endautoescape %} </p>
																		</div>
																	{% endfor %}
															{% endif %}
														{% endfor %}

												{% endfor %}

										{% endfor %}
										<div id="chartdiv{{theme.title}}" class="chartdiv" style="display: block;">
											<img class="img-responsive center-block avec-center-block" src="{% static 'img/NoContent_Chart.svg' %}" alt="..." style="padding-right: 0px!important;">
										</div>
							</div>
						</div>
						{% endif %}

				{% endwith %}
				{% endfor %}

  </div>
 </div>

</div>
    <script src="{% static 'min/javascript/app.js' %}"></script>

	<script type="text/javascript" src="{% static 'js/jquery-1.9.1.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/jquery-confirm.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/avec.script.js' %}"></script>

  {% for cliente in view_client %}
		{% if cliente.no_script == False %}
    	<script type="text/javascript" src="{% static cliente.script %}"></script>
		{% endif %}
  {% endfor %}




<script>

$(document).ready(function () {


		{% for cliente in view_client %}
			{% if cliente.no_script == False %}

				{% for theme in view_themes %}
					posts_count	= "{{ theme.title }}";
					clickMenu(posts_count);
				{% endfor %}

			iniciar2();

			{% endif %}

			{% if cliente.no_script == True %}

				{% for theme in view_themes %}
					posts_count	= "{{ theme.title }}";
					clickMenu(posts_count);
				{% endfor %}

			{% endif %}
	  {% endfor %}


});


</script>


<script>
/**
 * Add chart #1
 */
var currentChart;
function showChart( divid, divtheme, h ) {

	h = h || "375px";
	currentTheme = document.getElementById(divtheme);
	currentTheme.style.display = "none";

  if (currentChart !== undefined){
    currentChart.style.display = "none";
	};

	if (currentChart == undefined){
    currentTheme.style.display = "block";
	};

  if ( divid ) {
		currentChart = document.getElementById(divid);
		currentChart.style.display = "block";
		currentChart.style.height = h;
  }
  else {
    currentChart = undefined;
  }

}

  if (window.location.hash === '#menu2') {
	$.noConflict();

		$('.nav-pills a[href="#menu2"]').tab('show');

	var dateSpan = document.createElement('span')
	dateSpan.id = "test";
	dateSpan.innerHTML = ' <style> table {     font-family: arial, sans-serif;     border-collapse: collapse;     width: 100%; }  td, th {     border: 1px solid #dddddd;     text-align: left;     padding: 8px; }  tr:nth-child(even) {     background-color: #dddddd; } </style> <h2 style="">Coop. Agropecuária de São Sebastião Ltda</h2> </br> <table>   <tr>     <th>Company</th>     <th>Contact</th>     <th>Country</th>   </tr>   <tr>     <td>Alfreds Futterkiste</td>     <td>Maria Anders</td>     <td>Germany</td>   </tr>   <tr>     <td>Centro comercial Moctezuma</td>     <td>Francisco Chang</td>     <td>Mexico</td>   </tr>   <tr>     <td>Ernst Handel</td>     <td>Roland Mendel</td>     <td>Austria</td>   </tr>   <tr>     <td>Island Trading</td>     <td>Helen Bennett</td>     <td>UK</td>    </tr>   <tr>     <td>Laughing Bacchus Winecellars</td>     <td>Yoshi Tannamuri</td>     <td>Canada</td>   </tr>  <tr>     <td>Magazzini Alimentari Riuniti</td>     <td>Giovanni Rovelli</td>     <td>Italy</td>   </tr> </table> ';

	document.getElementById("chartdivCopas-Coop. Agropecuária de São Sebastião Ltda").appendChild(dateSpan);

      showChart('chartdivCopas-Coop. Agropecuária de São Sebastião Ltda');
  }


</script>

<script>
/*$('li').click(function () {
	console($(this).elem.firstChild);
    $(this).removeClass('fa-chevron-left');
    $(this).addClass('fa-chevron-down');
});*/
/*
$('li').click(function () {
	console.log($(this).children(0).children(0));
	if  ($(this).children(0).children(0).hasClass('fa-chevron-down'))	{
		$(this).children(0).children(0).removeClass('fa-chevron-down');
		$(this).children(0).children(0).addClass('fa-chevron-left');
		$(this).children(0).children(0).find("interno").removeClass('fa-chevron-left');
	}
	else{
		$(this).children(0).children(0).addClass('fa-chevron-down');
		$(this).children(0).children(0).removeClass('fa-chevron-left');
		$(this).children(0).children(0).find("interno").removeClass('fa-chevron-down');
	}
});*/

var menus = $("#menus"), menuWidth = menus.parent().outerWidth();
    var menupage = Math.ceil(menus[0].scrollWidth / menuWidth), currPage = 1;
    if (menupage > 1) {
        $("#goNext").click(function () {
			var loading = document.getElementById("back");
			loading.style.display = "block" ;
            currPage < menupage && menus.stop(true).animate({
                "left": -menuWidth * currPage
            }, "slow") && currPage++
        });
        $("#goPrev").click(function () {
			if (currPage == 2){
				var loading = document.getElementById("back");
				loading.style.display = "none" ;
			};
            currPage > 1 && menus.stop(true).animate({
                "left": -menuWidth * (currPage - 2)
            }, "slow") && currPage--;
        });
        $(window).on("resize", function () {
            menuWidth = menus.parent().outerWidth();
            menupage = Math.ceil(menus[0].scrollWidth / menuWidth);
            currPage = Math.ceil(-parseInt(menus.css("left")) / menuWidth) + 1;
        });
    }

</script>

<!--<script type="text/javascript" src="{% static 'data/paineis/ocdf/ocdf.js' %}"></script>-->
{% endblock %}
